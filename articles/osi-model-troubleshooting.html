<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  
<!-- Mirrored from primacore.net/articles/osi-model-troubleshooting.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Oct 2017 03:48:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="distribution" content="global" />
    <title>Primacore Networks, LLC :: Troubleshooting with OSI Model</title>
    <base  />
    <link rel="index" title="Troubleshooting with OSI Model" href="../index.html" />
    <link rel="canonical" href="../index.html" />
    <meta name="description" content="Discussion of techniques/tools available to troubleshoot layer-specific problems." />
    <meta name="keywords" content="keywords" />
    <meta name="author" content="Primacore Networks, LLC" />
    <meta name="published" content="2011-01-05 11:14:00" />
    <meta name="revised" content="0" />
    <meta name="copyright" content="&copy;2015 Primacore Networks, LLC" />
    <link rel="stylesheet" type="text/css" href="../assets/css/reset.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/main-menu.css" />
    <link rel="stylesheet" type="text/css" href="../assets/prettyPhoto/css/prettyPhoto.css"/>
    <script type="text/javascript" src="../assets/js/jquery-1.4.1.min.js"></script>
    <script type="text/javascript" src="../assets/js/cufon-yui.js"></script>
    <script type="text/javascript" src="../assets/prettyPhoto/js/jquery.prettyPhoto.js"></script>
    <script type="text/javascript" src="../assets/js/init-prettyPhoto.js"></script>
    <script type="text/javascript" src="../assets/js/jquery.cycle.all.min.js"></script>
    <script type="text/javascript" src="../assets/js/testimonial_slideshow.js"></script>
    <script type="text/javascript" src="../assets/js/Aller_400-Aller_700.font.js"></script>
    <script type="text/javascript">
          Cufon.replace('h1,h2,h3,h4',{fontFamily:'Aller',fontWeight :'700'});
    </script>

  </head>
  <body>
    <div id="wrap">
      <div id="header">
        <div id="header_top"></div>
        <h1 class="logo"><a title="#" href="../index.html">amedeo</a></h1>
        <div id="search">
          <form action="https://primacore.net/search.html">
            <fieldset>
            <input name="search" type="text"  onblur="if (this.value==''){this.value='Search our website...'};" onfocus="if(this.value=='Search our website...'){this.value=''};" value="Search our website..."/>
            <input name="button" type="submit" value="" class="button"/>
            <input type="hidden" name="id" value="" /> 
            </fieldset>
          </form>
        </div>
        <div class="clear"></div>
        <ul id="nav">
          <li class="top">
            <a href="../index.html" title="Home" class="top_link"><span>Home</span></a>
          </li>

          <li class="top">
            <a href="../about/index.html" title="About" class="top_link"><span class="down">About</span></a>
            <ul class="sub">
              <li class="top"><a href="../about/core-values.html" title="Core Values">Core Values</a></li>

              <li class="top"><a href="../about/privacy.html" title="Privacy Policy">Privacy Policy</a></li>

              <li class="top"><a href="../about/mission.html" title="Mission Statement">Mission</a></li>

              <li class="top"><a href="../about/site-credits.html" title="Site Credits">Site Credits</a></li>

              <li class="top"><a href="../about/terms.html" title="Terms of Use">Terms of Use</a></li>

            </ul>
          </li>

          <li class="top">
            <a href="../services/index.html" title="Services" class="top_link"><span class="down">Services</span></a>
            <ul class="sub">
              <li class="top"><a href="../services/index.html#networking" title="Networking">Networking</a></li>

              <li class="top"><a href="../services/index.html#security" title="Security">Security</a></li>

              <li class="top"><a href="../services/index.html#process" title="Process Optimization">Process Optimization</a></li>

              <li class="top"><a href="../services/index.html#project" title="Project Management">Project Management</a></li>

              <li class="top"><a href="../services/case-studies.html" title="Case Studies">Case Studies</a></li>

              <li class="top"><a href="../services/upcoming-articles.html" title="Upcoming Articles">Upcoming Articles</a></li>

            </ul>
          </li>

          <li class="top">
            <a href="../news/index.html" title="News" class="top_link"><span>News</span></a>
          </li>

          <li class="top">
            <a href="index.html" title="Articles" class="top_link"><span>Articles</span></a>
          </li>

          <li class="top">
            <a href="../contact.html" title="Contact" class="top_link"><span>Contact Us</span></a>
          </li>

        </ul>
        <!-- end main menu -->
      </div>
      <!-- end header -->
      <div id="inside_wrap">
        <div class="breadcrumb">
          <ul> 
            <li><a href="../index.html" title="Primacore Networks, LLC">Home</a></li>




            <li>&nbsp; &raquo;&nbsp; <a href="index.html" title="">Articles</a></li>

            <li>&nbsp; &raquo;&nbsp; Troubleshooting with OSI Model</li>












          </ul>
        </div>
        <div id="left_large_page" class="clearfix">
          <div class="right_column">
            <div class="item">
              <h3>Recent Articles</h3>
              <div id="testimonial_slideshow">
                <div class="testimonial_item">
                  <p><b><a href="ip-subnetting-part1.html" title="IP Subnetting Part 1 - IPv4">IP Subnetting Part 1 - IPv4</a></b></p>
                  <p><i>Despite the large number of jokes in high school about never needing to use mathematics after graduation, the art form known as IP Subnetting requires a solid grasp of math based on binary numbers (0, 1).&nbsp; In this first part of my devoted attention on IP Subnetting, we&apos;ll focus on Internet Protocol version 4 (IPv4) addressing, some history, and the methods available to make IPv4 addressing go farther.</i></p>
                </div>
                <div class="testimonial_item">
                  <p><b><a href="20090911-understanding-network-command.html" title="Understanding the &quot;network&quot; command">Understanding the "network" command</a></b></p>
                  <p><i>Many network engineers seem to misunderstand the use of the <strong>network</strong> command in routing protocols on Cisco IOS, especially once they see the usage in BGP.&nbsp; This occurrence happens more frequently with those studying to become a CCNA, but may not be obvious to experienced engineers either.&nbsp; Based on my own experience, I have very distinct memories of confusion when the concept I understood was first corrected by a more experienced engineer.&nbsp; So let&apos;s breakdown the confusion.</i></p>
                </div>
                <div class="testimonial_item">
                  <p><b><a href="osi-model-troubleshooting.html" title="Troubleshooting with OSI Model">Troubleshooting with OSI Model</a></b></p>
                  <p><i>At Layers 1-4, there are several tools or tricks available to quickly verify normal operations.&nbsp; I have routinely used each of these tools for many years and expect many of them to be familiar.&nbsp; Many of these tools are technology-specific, meaning that one tool has an application with one technology but not another.&nbsp; I should also caution that the list below is not intended to be exhaustive or complete.&nbsp; It&apos;s just a collection of my thoughts on what I find really useful.</i></p>
                </div>
              </div>
              <p class="text_right"><a href="#"><img src="../assets/img/testimonial-back-btn.png" alt="back" width="25" height="20" id="slidePrev" /></a><a href="#"><img src="../assets/img/testimonial-next-btn.png" alt="next" width="25" height="20" id="slideNext" /></a></p>
            </div>
            <div class="divider"></div>
            <div class="item">
              <h3>Quick Links</h3>
              <ul class="sec_nav">
                <li><a href="../news/index.html"><span>Recent News</span></a></li>
                <li><a href="index.html">Recent Articles</a></li>
                <li><a href="../services/index.html">Services Overview</a></li>
              </ul>
            </div>
            <div class="divider"></div>
            <div class="item">
              <h3>Info Point</h3>
              <p class="info_point">Building Bridges from Today to Tomorrow&trade;</p>
              Primacore&reg; offers consulting services tailored to your business needs, whether that requires process automation and strict, environmental standardization or if you keep an open mind to new technologies and how they can support your business functions.&nbsp; Invite us into your world and, together, we can start &quot;Building Bridges from Today to Tomorrow&trade;&quot;
              <p class="text_right"><a href="../services/index.html" class="button"><span>Learn More</span></a></p>
            </div>
            <div class="divider"></div>
          </div>
          <!-- end right column -->
          <div class="main_content">
            <h1>Troubleshooting with OSI Model</h1>
            <span class="align_left"><img src="../assets/content_images/osi-model-wrench.png" width="350" height="406" alt="Here comes Mr. Fix It" class="image" /></span>
            <p>At Layers 1-4, there are several tools or tricks available to quickly verify normal operations.&nbsp; I have routinely used each of these tools for many years and expect many of them to be familiar.&nbsp; Many of these tools are technology-specific, meaning that one tool has an application with one technology but not another.&nbsp; I should also caution that the list below is not intended to be exhaustive or complete.&nbsp; It&apos;s just a collection of my thoughts on what I find really useful.&nbsp; As I remember something I mistakenly omitted, I&apos;ll update this list from time to time (so expect to see it grow).</p>
            <h2>Layer 1 &mdash; Physical</h2>
            <ul class="simple">
              <li><strong>Loopback plug</strong> &mdash; This tool has an application across most every physical layer technology.&nbsp; The &quot;plug&quot; comes in different forms between the various PHY implementations in networks, but can be generally constituted with a reversal of the Transmit and Receive leads.&nbsp; For Ethernet interfaces using RJ-45, the plug connects pins 1 to 3 and 2 to 6 (as described by <a title="Create a Loopback Plug for an RJ-45 Ethernet Interface" href="http://www.juniper.net/techpubs/software/nog/nog-interfaces/html/fe-ge-loopback25.html">this helpful Juniper document</a>).&nbsp; The same idea applies to T1/E1 interfaces using RJ-45, where the plug connects pins 1 to 4 and 2 to 5 (as described by <a title="Creating the Loopback Plug for E1 on RJ-45" href="http://www.cisco.com/en/US/tech/tk713/tk628/technologies_tech_note09186a008010059a.shtml#topic1">this helpful Cisco document</a>).&nbsp; The process is easier with coax and fiber connections, as the TX and RX cables tend to be separated and can be more easily looped back.</li>
              <li><strong>Loopback testing</strong> &mdash; This tool is a little different than the loopback plug, as it involves features made available in the Bellcore standards for TDM-based connections without requiring additional hardware.
                <ul>
                  <li>A CSU/DSU can perform a soft loopback within its circuitry to provide the same function as a hardware-based loopback plug.&nbsp; This loopback can be placed toward the network side or the local side.</li>
                  <li>A CSU/DSU can transmit a signal to trigger a device on the other end of the line to perform a soft loopback.&nbsp; This sort of troubleshooting is common on carrier networks with the installation of local loops.&nbsp; Here&apos;s <a title="Loopback Testing" href="http://networking.ringofsaturn.com/Cisco/loopbacktests.php">nice reference from RingsofSaturn.com</a> on the different soft loopbacks (including local and remote).&nbsp; It&apos;s Cisco-specific, so YMMV with other vendors hardware.</li>
                </ul>
              </li>
              <li><strong>Bit Error Rate Testing (BERT)</strong> &mdash; Once a loopback is in place, the line should run clean without any bit errors.&nbsp; BERT allows errors to be purposely injected so as to verify their successful detection.&nbsp; <a title="Wikipedia page for BERT" href="http://en.wikipedia.org/wiki/Bit_Error_Rate_Test">Multiple variations of BERT</a> exist and are certainly beyond my ability to cover them on this blog.&nbsp; My personal favorite is known as Quasi-Random Signal Source (QRSS), or more commonly called Quasi.</li>
            </ul>
            <h2>Layer 2 &mdash; Data Link</h2>
            <ul class="simple">
              <li><strong>Ethernet: Speed/Duplex</strong> &mdash; There&apos;s litany of ethernet tips that, universally, start with speed and duplex.&nbsp; Autonegotiation falls in this category too, as a speed or duplex mismatch can lead to lots of different problems (like collisions, runts, and the like).&nbsp; You should always be cognizant of the negotiated or configured speed and duplex of both sides of an ethernet connection.&nbsp; Here&apos;s a useful <a title="Configuring and Troubleshooting Ethernet 10/100/1000Mb Half/Full Duplex Auto-Negotiation" href="http://www.cisco.com/en/US/tech/tk389/tk214/technologies_tech_note09186a0080094781.shtml">Cisco.com reference on Speed and Duplex troubleshooting</a>.&nbsp; I will state that, unfortuately, the rules around one form of Ethernet (say 100-Base TX for example) won&apos;t necessarily apply to another (like 1000-Base T).&nbsp; Let&apos;s just say that troubleshooting Speed and Duplex tends to depend a lot on the particular vendor PHY/MAC used for the switch/hub and associated system NIC.&nbsp; Ugh.</li>
              <li><strong>Ethernet: Switching Path</strong> &mdash; When verifying the Layer 2 path taken by system-to-system communications, you will need to know the MAC address of the two end-stations.&nbsp; If you have a map of the switch fabric (or technical design) for reference, you should have a hypothesis about the path through the switch fabric that frames will travel end-to-end.&nbsp; Otherwise, you will have to make an educated (or uneducated) guess.&nbsp; You can then test your hypothesis.&nbsp; Using just the MAC of each system, you can follow the switching path through the network switch fabric between both stations.&nbsp; Each switch will have a bridge table that contains the associations between MAC address and switch port, sometimes organized by VLAN, by Spanning-Tree Instance, etc.&nbsp; Comparing your hypothesis to the actual path taken will either validate the switching path or will expose some other issue, like a faulty switch port, UDLD issue, native VLAN mismatch, etc.</li>
              <li><strong>PPP: Negotiation</strong> &mdash; I greatly admire whoever originated the saying, &quot;Keep it simple, stupid&quot;.&nbsp; It can&apos;t be stressed enough and PPP negotiation problems are no different.&nbsp; First, don&apos;t bother with authentication until you have the PPP link working without it.&nbsp; Second, focus on successfully sending and receiving LCP packets to ensure completion of the LCP phase, focused on the negotiation of parameters like compression, callback, error checking.&nbsp; Third, verify that PPP will complete the NCP phase, for negotiating parameters like IP address/mask, name servers, and header compression.&nbsp; During the LCP and NCP phases, Cisco routers have a real strength for troubleshooting , since you can enable PPP negotiation debugging to see the phases in operation.&nbsp; Once the link works, you could then enable authentication to isolate the other layers that it will include to make your PPP session negotiate successfully.</li>
              <li><strong>PPP: Troubleshooting Guide</strong> &mdash; I wanted to include this on a separate bullet, since I think <a title="PPP Troubleshooting Flowchart" href="http://www.cisco.com/en/US/tech/tk713/tk507/technologies_tech_note09186a008019cfa7.shtml#ppp04">this guide</a> is really exceptional.&nbsp; Cisco offers a <a title="PPP Troubleshooting Flowchart" href="http://www.cisco.com/en/US/tech/tk713/tk507/technologies_tech_note09186a008019cfa7.shtml#ppp04">really nice set of flowcharts</a> that illustrate the processes involved during the LCP and NCP negotiations, with link stability issues, and many more topics related to PPP.&nbsp; Let me state plainly that Cisco has not always been the bastion of compliance with PPP standards (ask Nortel).&nbsp; But the guide is very helpful and you should refer to it when necessary.</li>
              <li><strong>Frame Relay: PVC status</strong> &mdash; While the basic operation of Frame Relay has its own set of troubleshooting guidelines, most issues I&apos;ve faced have stemmed from problems with PVCs.&nbsp; In particular, PVCs are active at one end and not the other (meaning the telco didn&apos;t cross-connect the right two circuits, DOH!).&nbsp; You should definitely pay attention to the DLCI ordered for each circuit and the status of the PVC.&nbsp; If you really want to know the nitty-gritty details, head over to the <a title="IP/MPLS Forum - Frame Relay Forum docs" href="http://www.ipmplsforum.org/tech/fr_ia.shtml">IP/MPLS Forum website</a> (which is the merger of the ATM and Frame Relay Forums).&nbsp; While many of the standards listed are excellent technical reading, the <a title="PVC User-to-Network Interface (UNI) Implementation Agreement" href="http://www.ipmplsforum.org/frame/Approved/FRF.1.2/frf1_2.pdf">first standard (FRF.1.2)</a> is the important one to keep handy.&nbsp; Not to tout Cisco&apos;s horn, but here&apos;s another example of a really useful doc explaining <a title="Comprehensive Guide to Configuring and Troubleshooting Frame Relay" href="http://www.cisco.com/en/US/tech/tk713/tk237/technologies_tech_note09186a008014f8a7.shtml">common configurations and troubleshooting steps for Frame Relay</a>.</li>
            </ul>
            <h2>Layer 3 &mdash; Network</h2>
            <ul class="simple">
              <li><strong>IPv4/IPv6: ICMP ping</strong> &mdash; The most basic, useful tool for verifying end-to-end connectivity between two IP-enabled systems.&nbsp; This tool allows your IP-enabled system to issue ICMP-based echo packets to another system, with a variety of parameters that can expose basic problems in an internetwork.&nbsp; There are variations of this command, which issue UDP-based echo packets (which makes them useful for testing firewall rules).&nbsp; Ping is almost always the first tool for which I reach when looking at an end-to-end problem.</li>
              <li><strong>IPv4/IPv6: Traceroute</strong> &mdash; This tool allows you do expose the routing path for intersystem communication (note that I said routing path, since switching has traditionally been a Layer 2 term).&nbsp; By sending ICMP echo packets with a small time-to-live (TTL) generally starting at 1, each system in the routing path returns an ICMP time-exceeded packet.&nbsp; This strategy relies on the IETF specification for IPv4 and IPv6 that each system, when routing packets, must decrement the TTL before forwarding the packet to the next system.&nbsp; If the TTL reaches zero, the system should return a time-exceeded packet (some systems don&apos;t on purpose, like most firewalls, IDS, etc).</li>
            </ul>
            <h2>Layer 4 &mdash; Transport</h2>
            <ul class="simple">
              <li><strong>TCP/UDP: Telnet</strong> &mdash; The second most basic, useful tool for end-to-end troubleshooting between two IP-enabled systems.&nbsp; Telnet, as a command, mainly serves to validate the open listening socket of a server system, through an internetwork which (likely) includes firewalls.&nbsp; If the command times out, the connection may be blocked or the server may not be listening on an open socket.&nbsp; Telnet will greatly assist to eliminate firewalls as the culprit of a problem (though, it also exposes some firewalls as well, when they aren&apos;t configured correctly).&nbsp; While Telnet clients are almost always TCP, you can find <a title="Example software for UDP-based Telnet" href="http://netcat.sourceforge.net/">examples of UDP Telnet clients</a>.</li>
            </ul>

          </div>
          <!-- end main content -->
        </div>
        <!-- end page content -->
        <div class="footer">
          <div class="content">
            <ul class="footer_nav clearfix">
              <li class="one-fourth">
                <h4><img src="../assets/img/core_icon.png" width="16" height="16" alt="rss" />&nbsp; CORPORATE INFO</h4>
                <ul class="pages">
                  <li><a href="../index.html">Home</a></li>
                  <li><a href="../about/core-values.html">Our Core Values</a></li>
                  <li><a href="../about/mission.html">Mission Statement</a></li>
                  <li><a href="../about/site-credits.html">Site Credits</a></li>
                  <li><a href="../contact.html">Contact Us</a></li>
                </ul>
              </li>
              <li class="one-fourth">
                <h4><img src="../assets/img/wrench_icon.png" width="16" height="16" alt="rss" />&nbsp; OUR SERVICES</h4>
                <ul class="pages">
                  <li><a href="../services/index.html">Services Overview</a></li>
                  <li><a href="../services/index.html#networking">Networking</a></li>
                  <li><a href="../services/index.html#security">Security</a></li>
                  <li><a href="../services/index.html#process">Process Optimization</a></li>
                  <li><a href="../services/index.html#project">Project Management</a></li>
                  <li><a href="../services/case-studies.html">Case Studies</a></li>
                </ul>
              </li>
              <li class="one-fourth">
                <h4><img src="../assets/img/rss_icon.png" width="14" height="14" alt="rss" />&nbsp; STAY CONNECTED</h4>
                <ul class="pages">
                  <li><a href="../articles.rss">Articles RSS</a></li>
                  <li><a href="../news.rss">News RSS</a></li>
                </ul>
              </li>
              <li class="one-fourth last">
                <h4><img src="../assets/img/contact_icon.png" width="16" height="15" alt="contact" />&nbsp; CONTACT INFO</h4>
                <ul>
                  <li><b>E-mail:</b><br />
                    <a href="../contact.html">Contact Us</a> page</li>
                  <li><b>Telephone:</b><br />
                    +1 972 863 CORE</li>
                  <li><b>Address:</b><br />
                    3136 Round Tree Ln<br />
                    Frisco, TX 75034-4589</li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="copy clearfix">
            <div class="left">&copy;2015 Primacore Networks, LLC. All rights reserved.<br />
              <a href="../about/site-credits.html">Copyright Information</a> | <a href="../about/privacy.html">Privacy Policy</a> | <a href="../about/terms.html">Terms of Use</a></div>
            <div class="right"><a href="https://validator.w3.org/nu/?doc=https://primacore.net/articles/osi-model-troubleshooting.html"><img src="../assets/img/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a> <a href="http://jigsaw.w3.org/css-validator/validator?uri=https://primacore.net/articles/osi-model-troubleshooting.html"><img src="../assets/img/valid-css2-blue.png" alt="Valid CSS Level 2.1" height="31" width="88" /></a></div>
          </div>
        </div>        <!-- end footer -->
      </div>
      <!-- end inside wrap -->
      <div id="inside_wrap_bottom"></div>
    </div>
  <!-- end wrap -->
  </body>

<!-- Mirrored from primacore.net/articles/osi-model-troubleshooting.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Oct 2017 03:48:55 GMT -->
</html>